<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>中间件 on 牛哥聊技术</title><link>https://www.lingcoder.com/categories/middleware/</link><description>Recent content in 中间件 on 牛哥聊技术</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 13 Jan 2020 20:48:02 +0800</lastBuildDate><atom:link href="https://www.lingcoder.com/categories/middleware/index.xml" rel="self" type="application/rss+xml"/><item><title>Redis安装和高可用集群搭建</title><link>https://www.lingcoder.com/p/redis-install-and-config/</link><pubDate>Mon, 13 Jan 2020 20:48:02 +0800</pubDate><guid>https://www.lingcoder.com/p/redis-install-and-config/</guid><description>Redis安装和高可用集群搭建 安装步骤 官网下载:https://redis.io/download
CentOS 7 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # 安装 GCC GC++ yum -y install gcc yum -y install gcc-c++ yum -y install tcl # 下载,解压至/usr/local,切换目录 wget http://download.redis.io/releases/redis-5.0.5.tar.gz tar -zxvf redis-5.0.5.tar.gz -C /usr/local cd /usr/local cd redis-5.0.5 # 编译安装 make make PREFIX=/usr/local/redis-cluster install Ubunt 18.04 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # 安装 GCC GC++ sudo apt update sudo apt install make sudo apt install tcl sudo apt install gcc # 下载,解压至/usr/local,切换目录 wget http://download.</description></item><item><title>Kafka集群搭建</title><link>https://www.lingcoder.com/p/kafka-cluster-install-and-config/</link><pubDate>Thu, 23 May 2019 12:20:54 +0800</pubDate><guid>https://www.lingcoder.com/p/kafka-cluster-install-and-config/</guid><description>Kafka集群搭建 使用场景 异步处理： 如用户注册后，发送注册邮件，再发送注册短信。 应用解耦： 如用户下单后，订单系统需要通知库存系统。 流量削峰：如秒杀活动，一般会因为流量过大，导致流量暴增。 日志处理：解决大量日志采集后的传输问题。消息队列负责日志后续处理转发。 消息通讯： 优点 高吞吐量，非常普通的应将kafka也可以支持每秒数百万的消息。
支持通过kafka服务器和消费机集群来区分消息。
支持hadoop并行数据加载。
关键概念： broker: kafka集群中的一台或多台服务器统称broker。
Topic： kafka处理的消息源（feeds of messages）的不同分类。
partition：Topic物理机上的分组，一个topic可分为多个partition，每个partition是一个有序的队列。其中的每条消息都会被分配一个有序的id（offset）。
Message ：消息，是通信的基本单位。每个producer可以向一个topic（主题）发布一些消息。
Producers：消息和数据的生产者，向kafka的一个topic发布消息的过程叫producers。
consumers：消息和数据消费者，订阅topic并处理其发布的消息的过程叫做consumers。
安装运行 官网地址：http://kafka.apache.org/downloads
1. 软件环境 CenOS7/Ubuntu 虚拟机三台。 已经搭建好的zookeeper集群。 软件版本：kafka_2.12-2.2.0 2. 安装步骤 下载官方二进制包 1 wget https://mirrors.tuna.tsinghua.edu.cn/apache/kafka/2.2.0/kafka_2.12-2.2.0.tgz 解压 1 tar -zxvf kafka_2.12-2.2.0.tgz -C /usr/local/ 修改配置文件 1 vim /usr/local/kafka_2.12-2.2.0/config/server.properties 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # 不可重复 # 这是这台虚拟机上的值，在另外两台虚拟机上应该是2或者3， # 这个值是唯一的，每台虚拟机或者叫服务器不能相同 broker.</description></item><item><title>Zookeeper安装和配置</title><link>https://www.lingcoder.com/p/zookeeper-install-and-config/</link><pubDate>Sun, 14 May 2017 00:15:23 +0800</pubDate><guid>https://www.lingcoder.com/p/zookeeper-install-and-config/</guid><description>Zookeeper安装和配置 准备工作 安装 JDK,此步略。
下载 zookeeper
1 2 3 wget http://archive.apache.org/dist/zookeeper/zookeeper-3.4.6/zookeeper-3.4.6.tar.gz # 或者 curl -O https://mirrors.tuna.tsinghua.edu.cn/apache/zookeeper/zookeeper-3.4.14/zookeeper-3.4.14.tar.gz 解压 zookeeper
1 tar -zxvf zookeeper-3.4.6.tar.gz -C /usr/local/ 创建软链,方便版本转换
1 ln -s zookeeper-3.4.6 zookeeper 单机版安装 切换到 zookeer 软链目录下执行
1 cd usr/local/zookeeper/conf/cp zoo_sample.cfg zoo.cfg 编辑 zoo.cfg 配置文件
1 vim zoo.cfg 启动服务
1 2 3 4 # 启动服务 bin/zkServer.sh start # 测试连接 bin/zkCli.sh –server 127.0.0.1:2181 集群安装 ​ 在zoo.cfg 添加配置,并按照下面的配置部署到相应的机器上,并在相应的服务器的数据目录下创建 myid 文件,并填写本机对应的 server.NUM 数值.如 server.1,则填 1。
1 2 3 4 5 6 7 8 ## 真集群示例 server.</description></item></channel></rss>